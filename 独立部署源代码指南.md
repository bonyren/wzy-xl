# 《为之易心理健康平台》独立部署指南
## 1. 环境准备
普通的windows或者linux服务器，推荐配置在2核4G内存2M公网带宽以上
### php 7.4以上

需支持以下扩展**curl, gd2, openssl, pdo_mysql, pdo_sqlite, zip, mbstring**

php.ini相关配置
**upload_max_filesize > 20M
memory_limit > 512M
post_max_size > 8M**

### mysql 8.0以上

需支持innodb引擎；my.ini中更改sql_mode配置，去掉**NO_ZERO_IN_DATE,NO_ZERO_DATE**

### Apache/Nginx Web Server

- 如果选用Apache服务器，请符合如下配置

```
LoadModule ssl_module modules/mod_ssl.so
LoadModule rewrite_module modules/mod_rewrite.so
<Directory "代码所在目录\public">
    Options Indexes FollowSymLinks Includes ExecCGI
    AllowOverride All
    Require all granted
</Directory>
<VirtualHost *:80>
    DocumentRoot "代码所在目录\public"
    ServerName 服务域名
</VirtualHost>
```


## 2. 下载部署代码
1. 从[https://gitee.com/wzycoding/wzy-xl/tree/master/独立部署源代码](https://gitee.com/wzycoding/wzy-xl/tree/master/独立部署源代码) 下载源代码
源代码目录结构如下：
![源代码目录结构](https://foruda.gitee.com/images/1760497715374263566/ea632ac4_10482337.png "源代码目录结构")
2. 将代码上传服务器，将/public设置成网站的根目录
将以下目录设置成服务器 **可读写** 
- /report
- /temp
- /runtime
- /public/upload
- /public/export
- /public/qrcode
- /public/import

## 3. 数据库安装
1. 在mysql服务器创建目标数据库，并执行 **/db/db.sql** 初始化脚本
2.  **/application/database.php** 配置数据库访问参数
![数据库访问参数](https://foruda.gitee.com/images/1760454058040500338/7c1b10da_10482337.png "数据库访问参数")

## 恭喜你，部署完成，正常访问会出现如下登录窗口
## 需要协助，请联系我们，微信：wzyer_com
![系统登录](https://foruda.gitee.com/images/1760455562423945995/01bdec25_10482337.png "系统登录")