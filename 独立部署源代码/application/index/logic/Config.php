<?php
 namespace app\index\logic; use app\index\model\Setting; use think\Debug; use think\Db; use think\Log; use think\Request; use think\Session; use app\index\logic\Defs; class Config extends Base { protected function __construct() { parent::__construct(); } public function loadFieldItems() { goto bzEXE; Zmj80: $totalCount = Db::table("\x65\x78\x70\145\x72\164\x5f\146\x69\145\x6c\144\137\151\x74\145\x6d")->where($conditions)->count(); goto d4RBw; e3XgO: return array_merge($records, $recordsEx); goto xE_25; tps3K: foreach ($recordsEx as &$recordEx) { goto yhECr; q3WWJ: LwdKo: goto eVouu; VQWMR: $recordEx["\146\151\x65\154\x64\137\x69\164\x65\x6d"] = ''; goto q3WWJ; yhECr: $recordEx["\151\x64"] = 0; goto VQWMR; eVouu: } goto Rrmvx; mSS0s: $recordsEx = Db::table("\145\x78\x70\145\x72\x74\x5f\x66\151\x65\x6c\x64")->where(["\151\144" => ["\x6e\x6f\164\x20\151\x6e", function ($query) { $query->table("\145\x78\x70\145\162\164\137\x66\x69\x65\154\144\137\151\x74\x65\x6d")->field("\146\151\145\x6c\144\x5f\x69\144"); }]])->field("\151\x64\x20\141\163\x20\x66\151\145\154\x64\137\151\x64\54\40\146\x69\145\154\144\x2c\40\143\x6f\x6e\143\x61\x74\x28\x69\144\x2c\x20\x27\100\47\x2c\40\146\151\145\154\x64\51\40\141\163\x20\x67\x72\x6f\165\160\137\146\x69\145\154\144")->select(); goto tps3K; bzEXE: $conditions = []; goto Zmj80; d4RBw: $records = Db::table("\x65\170\x70\x65\x72\164\x5f\x66\151\x65\154\x64\x5f\151\x74\x65\x6d")->alias("\x49")->join("\145\170\x70\145\162\164\x5f\x66\x69\x65\x6c\144\40\106", "\111\x2e\x66\x69\145\154\x64\x5f\x69\x64\x3d\x46\x2e\x69\144")->where($conditions)->order("\111\56\x66\151\x65\154\144\137\151\x64\x20\141\x73\143")->field("\x49\56\x69\144\54\x49\x2e\146\x69\145\x6c\x64\137\151\164\145\155\54\106\56\146\x69\x65\x6c\144\54\x46\x2e\x69\144\40\x61\x73\x20\146\x69\x65\x6c\144\x5f\151\x64\54\143\x6f\x6e\x63\141\164\x28\106\x2e\x69\144\54\x20\47\x40\47\54\x20\x46\x2e\x66\x69\x65\154\x64\x29\x20\x61\x73\x20\147\162\x6f\165\x70\137\x66\x69\x65\154\144")->select(); goto mSS0s; Rrmvx: TfiXR: goto e3XgO; xE_25: } public function getFieldItemInfos($id) { $infos = Db::table("\145\x78\160\x65\x72\x74\x5f\146\151\145\154\144\137\151\x74\145\x6d")->where("\x69\x64", $id)->field(true)->find(); return $infos; } public function saveFieldItem($id = 0, $infos) { goto GRTs1; TjuzQ: tbr6d: goto Udqe2; Udqe2: Db::table("\145\170\x70\145\162\x74\137\x66\151\x65\154\144\x5f\x69\164\x65\155")->where("\x69\144", $id)->update($infos); goto oQDe4; lw5uF: Db::table("\x65\170\160\145\162\164\137\146\x69\145\x6c\144\x5f\x69\x74\x65\155")->insert($infos); goto rPup0; ac2vh: return true; goto nDs7v; rPup0: goto bKbJ9; goto TjuzQ; GRTs1: if ($id) { goto tbr6d; } goto lw5uF; oQDe4: bKbJ9: goto ac2vh; nDs7v: } public function deleteFieldItem($id) { goto ekNh3; ekNh3: Db::table("\145\x78\x70\145\162\x74\137\x66\x69\145\x6c\144\x5f\x69\x74\145\155")->where("\151\x64", $id)->delete(); goto E6_W0; seiP1: return true; goto JgESg; E6_W0: Db::table("\x65\170\x70\x65\x72\x74\x5f\x66\x69\145\154\144\137\x72\x65\154\141\x74\145")->where("\x66\x69\x65\x6c\144\137\151\x74\x65\155\137\151\144", $id)->delete(); goto seiP1; JgESg: } public function getFieldInfos($id) { $infos = Db::table("\145\x78\160\x65\162\164\x5f\x66\x69\145\x6c\144")->where("\151\144", $id)->field(true)->find(); return $infos; } public function saveField($id = 0, $infos) { goto y1hRv; sA5i6: Db::table("\145\x78\160\145\162\x74\137\x66\151\145\154\144")->insert($infos); goto oaD8u; yEo1I: return true; goto wh1UP; y1hRv: if ($id) { goto FU6AG; } goto sA5i6; oaD8u: goto lUwrU; goto pqGKG; ni3Hw: Db::table("\x65\x78\x70\x65\x72\164\x5f\x66\x69\145\x6c\144")->where("\151\144", $id)->update($infos); goto vh6Ro; vh6Ro: lUwrU: goto yEo1I; pqGKG: FU6AG: goto ni3Hw; wh1UP: } public function deleteField($id) { goto B1e6_; NnjT4: Db::table("\145\170\160\145\162\164\137\x66\x69\145\154\144\137\151\x74\145\155")->where("\146\x69\x65\x6c\x64\x5f\x69\144", $id)->delete(); goto icVid; B1e6_: Db::table("\145\170\160\x65\x72\x74\137\x66\151\x65\x6c\x64")->where("\151\144", $id)->delete(); goto NnjT4; eRcxZ: return true; goto FpJFj; icVid: Db::table("\145\x78\160\145\x72\164\x5f\146\151\145\x6c\x64\x5f\x72\x65\154\141\x74\145")->where("\146\x69\145\x6c\144\137\x69\x64", $id)->delete(); goto eRcxZ; FpJFj: } public function loadCategories() { goto FT_m5; sdQ7F: foreach ($records as &$record) { $record["\x69\x6d\147\x5f\165\162\x6c"] = generateThumbnailUrl($record["\151\155\147\x5f\165\x72\154"], 100); tCR8D: } goto Gjfpr; FT_m5: $records = Db::table("\143\x61\x74\145\x67\157\162\x69\x65\x73")->field("\52")->order("\x73\x6f\162\x74\x20\141\163\143")->select(); goto sdQ7F; XkWxP: return $records; goto DS3Sy; Gjfpr: BKgGt: goto XkWxP; DS3Sy: } public function getCategoryInfos($id) { $infos = Db::table("\143\141\164\145\147\x6f\x72\x69\145\x73")->where("\x69\x64", $id)->field("\x2a")->find(); return $infos; } public function saveCategory($id, $infos) { goto k2G9F; nO2iT: GimNI: goto b93mZ; jtXbp: Db::table("\x63\141\x74\x65\147\157\x72\x69\145\163")->where("\151\144", $id)->update($infos); goto nO2iT; l3Vx8: K0mtj: goto jtXbp; b93mZ: return true; goto HOvGi; k2G9F: if ($id) { goto K0mtj; } goto AVSJ7; bD6Jl: goto GimNI; goto l3Vx8; AVSJ7: Db::table("\143\141\x74\x65\x67\x6f\162\151\145\163")->insert($infos); goto bD6Jl; HOvGi: } public function deleteCategory($id) { goto rAE8G; ztznD: return true; goto cYeQm; Zz9HA: Db::table("\145\170\160\x65\162\164\x5f\x63\x61\164\x65\x67\157\162\171\x5f\x72\x65\154\141\164\x65")->where("\x63\141\164\145\x67\157\162\171\x5f\x69\144", $id)->delete(); goto FUvVO; rAE8G: Db::table("\143\x61\x74\x65\x67\x6f\x72\x69\145\163")->where("\x69\x64", $id)->delete(); goto Zz9HA; FUvVO: Db::table("\x73\x75\142\152\x65\143\x74\x5f\x63\141\164\145\x67\x6f\162\x79\137\162\x65\x6c\x61\164\145")->where("\143\141\164\x65\x67\x6f\x72\171\x5f\x69\x64", $id)->delete(); goto ztznD; cYeQm: } public function loadTargets() { $records = Db::table("\x65\170\x70\145\x72\164\137\x74\x61\162\x67\145\x74")->field("\151\144\x2c\x74\x61\162\x67\145\164")->order("\x69\144\40\141\163\x63")->select(); return $records; } public function getTargetInfos($id) { $infos = Db::table("\145\170\x70\145\162\x74\x5f\164\141\x72\x67\x65\x74")->where("\151\x64", $id)->field("\151\144\54\164\x61\162\147\145\164")->find(); return $infos; } public function saveTarget($id, $infos) { goto XYVZ3; WQ9A3: Db::table("\145\170\160\145\162\x74\x5f\x74\141\162\x67\x65\x74")->insert($infos); goto IXNgZ; DujRE: return true; goto vbZLa; g6KG6: u1VbY: goto DujRE; XYVZ3: if ($id) { goto ODZko; } goto WQ9A3; jQXkr: ODZko: goto xZ5lR; xZ5lR: Db::table("\x65\170\x70\x65\162\x74\137\x74\141\x72\x67\145\164")->where("\151\144", $id)->update($infos); goto g6KG6; IXNgZ: goto u1VbY; goto jQXkr; vbZLa: } public function deleteTarget($id) { goto wxLHF; wxLHF: Db::table("\x65\170\160\x65\x72\x74\137\164\x61\162\x67\x65\x74")->where("\151\144", $id)->delete(); goto Omg3f; Omg3f: Db::table("\145\x78\160\x65\x72\x74\137\164\141\162\x67\x65\164\137\162\x65\154\x61\x74\145")->where("\x74\x61\x72\x67\x65\164\137\x69\144", $id)->delete(); goto Iaddj; Iaddj: return true; goto E2DEx; E2DEx: } }
