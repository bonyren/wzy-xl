<?php
 namespace app\index\service; use think\Log; use think\Debug; use think\Db; use app\index\logic\Messages as MessagesLogic; use app\index\logic\Admins as AdminsLogic; class Messages extends Base { public function __construct() { } public function sendAdminMessage($title = '', $content = '') { goto vU1Ur; ORd1X: $adminIds = $adminsLogic->getAdminIds(); goto TwbUS; rjF4U: return true; goto IuPzi; cl2hH: $adminsLogic = AdminsLogic::newObj(); goto ORd1X; xnY35: CbnN0: goto rjF4U; vU1Ur: $messagesLogic = MessagesLogic::newObj(); goto cl2hH; TwbUS: foreach ($adminIds as $adminId) { goto L2AdI; L2AdI: $messageId = $messagesLogic->add(MessagesLogic::MESSAGE_ADMIN_SYSTEM_CATEGORY, empty($title) ? MessagesLogic::$messageCategoryDefs[MessagesLogic::MESSAGE_ADMIN_SYSTEM_CATEGORY] : mb_substr($title, 0, 200), empty($content) ? MessagesLogic::$messageCategoryDefs[MessagesLogic::MESSAGE_ADMIN_SYSTEM_CATEGORY] : $content, $adminId); goto a4tic; WgMdx: d4pCe: goto WDOk3; FgIpV: Log::error("\146\x61\151\x6c\145\144\40\x74\x6f\40\x61\144\144\x20\x6d\145\163\163\x61\x67\x65\x20\x74\x6f\40{$adminId}"); goto cse61; a4tic: if ($messageId) { goto aHYtT; } goto FgIpV; cse61: aHYtT: goto WgMdx; WDOk3: } goto xnY35; IuPzi: } }
